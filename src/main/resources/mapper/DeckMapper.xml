<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="hello.lol.deck.recommend.repository.DeckDao">

    <select id="deckGuide" resultType="hello.lol.deck.recommend.repository.DeckDto">
        SELECT d.decks_id AS deckId, d.decks_name AS deckName, GROUP_CONCAT(c.champion_name) AS championNames
        FROM decks d
                 JOIN deck_champions_mapping m ON d.decks_id = m.deck_id
                 JOIN champions_list c ON m.champion_id = c.champion_id
        GROUP BY d.decks_id
    </select>

</mapper>